# DB의 기본

- DB
  - 일정한 규칙, 규약을 통해 구조화되어 저장된 데이터 모음
- DBMS
  - 해당 DB를 제어, 관리하는 통합 시스템
  - DB안의 데이터들은 DBMS마다 정의된 쿼리 언어를 통해 삽입, 삭제, 수정, 조회 등을 수행

---
| 개념                               | 설명                           |예시                           |
| --------------------------------------- | ------------------------------ | ------------------------------ |
| `엔티티(entity)`                    | 여러 개의 속성을 지닌 명사      | 회원(이름, 아이디, 주소..)
| `릴레이션(relation)`                  | DB에서 정보를 구분하여 저장하는 기본 단위                       |관계형 DB : 테이블 / / NOSQL DB: 컬렉션
| `속성(attribute)`                | 릴레이션에서 관리하는 구체적 / 고유한 이름을 갖는 정보              | 속성 : 성별
| `도메인(domain)`         | 릴레이션에 포함된 각 속성들이 가질 수 있는 값의 집합            | 성별이라는 속성이 가질 수 있는 값 : {남, 여}

-  **릴레이션은 모두 table, but 모든 테이블이 릴레이션 X**
-  릴레이션
  - 어떤 2개의 행도 동일하지 X
  - 테이블의 셀은 단일 값 포함
---
💡  **위의 정보를 기반으로 DB에서 <필드와 레코드>로 구성된 <테이블>을 만들 수 있다!**

**member**
| name                              | id                           |address                           |
| --------------------------------------- | ------------------------------ | ------------------------------ |
| 민지                    | kim      | 서울
| 하니                  | pham                       |호주


- 필드 : name, id, address
- 레코드(튜플) : (민지 - kim - 서울) 처럼 테이블에 쌓이는 행의 단위
---

### 필드의 타입

1. **숫자 타입**
  - INT
  - BIGINT

2. **날짜 타입**
  - DATE
  - DATETIME
  - TIMESTAMP

3. **문자 타입**
  - CHAR (고정 길이 문자열)
  - VARCHAR (가변 길이 문자열)
  - TEXT ( 큰 문자열)
  - BLOB (이미지, 동영상.. -> 하지만 보통 S3에 파일 올리고 파일 경로를 VARCHAR로 저장)
  - ENUM (문자열 열거, 단일 선택만 가능)
  - SET (ENUM과 유사, 여러 개의 데이터 선택 가능)
---

### 관계
    - 여러 테이블은 서로의 관계가 정의되어 있음

- 1:1 관계
- 1:N 관계

- N:M관계
  - 보통 2개의 테이블을 직접 연결하지 X
  - 1:N, 1:M이라는 관계를 갖는 테이블을 중간에 넣어서 연결
  -   학생- 강의  -> 학생 - `<학생_강의 (학생ID, 강의ID) >` - 강의
---

### 키

- 기본키(PK)
  - 유일성 + 최소성
  - 유일성 : 하나의 키값으로 각 행을 유일하게 식별할 수 있는 성질
  - 최소성 : 키를 구성하는 속성들 중 꼭 필요한 최소한의 속성들로만 키를 구성하는 성질
  - {ID}만으로 기본키 설정 가능한데, {ID, name}이라는 복합키를 기본키로 설정하면 최소성 만족 X
- 외래키(FK)
  - 다른 테이블의 기본키를 그대로 참조해서 사용
  - 개체와의 관계 식별에 사용
  - 중복 가능
- 후보키(candiate key)
  - 기본키가 될 수 있는 후보들
- 대체키(alternate key)
  - 후보키가 2개 이상일 경우, 하나를 기본키로 지정하고 남은 후보키들
- 슈퍼키(super key)
  - 각 레코드를 유일하게 식별할 수 있는 유일성을 갖춘 키
- 자연키
  - 중복된 값(이름,성별..)들을 제외하며 중복되지 않는 것을 자연스레 뽑다가 나오는 키
- 인조키
  - 인위적으로 생성한 키
  - 보통 기본키는 인조키 (auto increment)